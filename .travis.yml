sudo: required
dist: trusty

language: python

services:
  - docker

before_install:
  - sudo apt-get -qq update
  - sudo apt-get install -o Dpkg::Options::="--force-confold" --force-yes -y docker-ce

install:
  - pip install docker-py
  - pip install molecule==1.4
  - pip install --upgrade docker ansible testinfra ansible-lint

jobs:
  include:
    - stage: unit tests
      script: echo one
    - stage: unit tests
      script: echo two
    - stage: Enter jupyter
      script: cd jupyter/
    - stage: test jupyter
      script: molecule test